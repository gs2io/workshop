# GS2-Inventory にガチャチケットのアイテムを登録

## GS2-Inventory の設定

### ネームスペースの作成

まずは、GS2-Inventory にガチャチケットの所持数量を管理するためのネームスペースを作成します。

マネージメントコンソールのサイドメニューから「Inventory > Namespaces」を選択します。

![img.png](img/img.png)

次に「ネームスペースの新規作成」を選択します。

![img_1.png](img/img_1.png)

ネームスペースの設定項目を入力して「作成」ボタンを押下します。

![img_2.png](img/img_2.png)

### マスターデータの作成

作成したネームスペースを選択します。

![img_3.png](img/img_3.png)

続けて、マスターデータエディタを選択します。

![img_4.png](img/img_4.png)

GS2-Inventory では複数のモードがありますが、今回は「スタンダードインベントリ」を使用します。
GS2-Inventoryは、プレイヤーが所持しているカバンに例えることができます。たとえば、キャラクターを入れるカバン、強化素材を入れるカバン、消費型アイテムを入れるカバン のようにアイテムの大カテゴリごとに用意します。

では、アイテムを格納するカバンに関する情報を設定しましょう。

「インベントリモデルマスターの新規作成」を選択します。

![img_5.png](img/img_5.png)

インベントリには容量を設定します。これは所持可能なアイテムの種類の上限を設定できます。

![img_6.png](img/img_6.png)

今回のデモでは、ガチャを1回だけ引くことができる「単発ガチャチケ」と、ガチャを10回引くことができる「10連ガチャチケ」の2種類を用意するので初期サイズ・最大サイズは2以上であればなんでもいいです。

![img_7.png](img/img_7.png)

作成したら以下の画面になります。

作成した Bag インベントリの「詳細」ボタンを押下してください。

![img_8.png](img/img_8.png)

続けて、Bag に格納できるアイテムを定義します。
「アイテムモデルマスターの新規作成」を選択します。

![img_9.png](img/img_9.png)

アイテムの名前には単発ガチャチケを表す「Ticket-1」とし、99個まで所有できるようにします。

![img_10.png](img/img_10.png)

続けて、10連ガチャチケを定義します。
再び「アイテムモデルマスターの新規作成」を選択します。

![img_11.png](img/img_11.png)

先ほどと同様に「Ticket-10」を作成します。

![img_12.png](img/img_12.png)

以下のようになったらマスターデータエディタ上の設定は完了です。

![img_13.png](img/img_13.png)

### マスターデータのエクスポート

ここまで操作したのはマスターデータを作成するためのデータ登録をしただけで、まだゲーム内から利用可能な状態にはなっていません。
登録したデータを実際にゲームから利用可能にするために、マスターデータエディタで登録したデータをエクスポートします。

まずは、パンくすリストからマスターデータエディタのトップまで戻ります。

![img_14.png](img/img_14.png)

「マスターデータのエクスポート」を選択します。

![img_15.png](img/img_15.png)

すると、以下のようなマスターデータをダウンロードすることができます。

```json
{
  "version": "2019-02-05",
  "inventoryModels": [
    {
      "name": "Bag",
      "initialCapacity": 10,
      "maxCapacity": 10,
      "protectReferencedItem": false,
      "itemModels": [
        {
          "name": "Ticket-1",
          "stackingLimit": 99,
          "allowMultipleStacks": false,
          "sortValue": 0
        },
        {
          "name": "Ticket-10",
          "stackingLimit": 99,
          "allowMultipleStacks": false,
          "sortValue": 0
        }
      ]
    }
  ],
  "simpleInventoryModels": [],
  "bigInventoryModels": []
}
```

### マスターデータのインポート

次に、ゲーム内から利用できるマスターデータとしてインポートします。

![img_16.png](img/img_16.png)

ダウンロードした JSON ファイルを指定して「更新」を押下します。

![img_17.png](img/img_17.png)

すると、現在有効なマスターデータ欄にインポートしたデータが表示されます。

![img_18.png](img/img_18.png)

これで GS2-Inventory の設定は完了です。

## 次のステップへ

[GS2-Exchange にガチャチケットを入手する交換レートを登録](../step0004)